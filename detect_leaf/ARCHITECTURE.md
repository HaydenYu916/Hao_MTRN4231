# ğŸ—ï¸ ç³»ç»Ÿæ¶æ„ - å¶å­æ£€æµ‹åˆ°æœºæ¢°è‡‚æ§åˆ¶

## ğŸ“Š æ•´ä½“ç³»ç»Ÿæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         MTRN4231 å¶å­é‡‡é›†ç³»ç»Ÿ                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  RealSense      â”‚  RGBå›¾åƒ + æ·±åº¦å›¾åƒ + å†…å‚
â”‚  ç›¸æœºé©±åŠ¨        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”œâ”€ /camera/camera/color/image_raw (RGB)
         â”œâ”€ /camera/camera/aligned_depth_to_color/image_raw (æ·±åº¦)
         â””â”€ /camera/camera/aligned_depth_to_color/camera_info (å†…å‚)
         â”‚
         â–¼
    â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
    â•‘   å¶å­æ£€æµ‹èŠ‚ç‚¹ (leaf_detector)      â•‘
    â•‘   â€¢ PlantCVå›¾åƒå¤„ç†                â”‚
    â•‘   â€¢ å¶å­åˆ†å‰²å’Œè¯†åˆ«                 â”‚
    â•‘   â€¢ è®¡ç®—ä¸­å¿ƒå’Œè¾¹ç•Œæ¡†               â”‚
    â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
         â”‚
         â””â”€ /leaf_detection/coordinates (åƒç´ åæ ‡JSON)
         â”‚
         â–¼
    â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
    â•‘ åæ ‡è½¬æ¢èŠ‚ç‚¹ (leaf_to_arm_          â•‘
    â•‘   transformer) â­ NEW             â”‚
    â•‘   â€¢ åƒç´ åæ ‡ â†’ 3Dç›¸æœºåæ ‡         â”‚
    â•‘   â€¢ ç›¸æœºåæ ‡ â†’ æœºæ¢°è‡‚åæ ‡         â”‚
    â•‘   â€¢ TF2å˜æ¢ç®¡ç†                   â”‚
    â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
         â”‚
         â”œâ”€ /leaf_detection/arm_target (æœºæ¢°è‡‚åæ ‡ PoseStamped)
         â”œâ”€ /leaf_detection/arm_target_markers (å¯è§†åŒ–æ ‡è®°)
         â”‚
         â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ MoveItè§„åˆ’       â”‚â”€â”€â”€â”€â–¶â”‚ URé©±åŠ¨           â”‚
    â”‚ â€¢ è¿åŠ¨è§„åˆ’       â”‚     â”‚ â€¢ æœºæ¢°è‡‚æ§åˆ¶     â”‚
    â”‚ â€¢ ç¢°æ’æ£€æµ‹       â”‚     â”‚ â€¢ å®æ—¶åé¦ˆ       â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                         â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚ UR 5e æœºæ¢°è‡‚    â”‚
              â”‚ â€¢ æ‰§è¡ŒæŠ“å–      â”‚
              â”‚ â€¢ é‡‡é›†å¶å­      â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”„ æ•°æ®æµè¯¦è§£

### æ•°æ®å¤„ç†é“¾

```
Step 1: å›¾åƒé‡‡é›†
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
è¾“å…¥ï¼šRealSenseç›¸æœºæ‹æ‘„çš„å®æ—¶è§†é¢‘
      â”œâ”€ RGBå›¾åƒ: 1920Ã—1080 @ 30 FPS
      â”œâ”€ æ·±åº¦å›¾åƒ: 1280Ã—720 @ 30 FPS  
      â””â”€ ç›¸æœºå†…å‚: fx, fy, cx, cy (ç„¦è·å’Œä¸»ç‚¹)

Step 2: å¶å­æ£€æµ‹
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
å¤„ç†ï¼šPlantCVå›¾åƒåˆ†æ
      â”œâ”€ é¢œè‰²èŒƒå›´è¿‡æ»¤ (ç»¿è‰²å¶å­è¯†åˆ«)
      â”œâ”€ äºŒå€¼åŒ–å’Œå½¢æ€å­¦å¤„ç†
      â”œâ”€ è½®å»“æ£€æµ‹å’Œæ ‡è®°
      â””â”€ è®¡ç®—ä¸­å¿ƒåæ ‡ (åƒç´ ç©ºé—´)

è¾“å‡ºï¼š/leaf_detection/coordinates
      {
        "frame": 123,
        "coordinates": [
          {
            "id": 0,
            "center": {"x": 360, "y": 240},  â† åƒç´ åæ ‡ï¼
            "bounding_box": {...},
            "area": 2850.5
          }
        ]
      }

Step 3: åæ ‡è½¬æ¢ â­ NEW
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
å˜æ¢1ï¼šåƒç´ åæ ‡ â†’ 3Dç›¸æœºåæ ‡
      è¾“å…¥: åƒç´ åæ ‡ (360, 240)
            æ·±åº¦å€¼: 500 mm (ä»æ·±åº¦å›¾è·å–)
            ç›¸æœºå†…å‚: fx=615, fy=615, cx=320, cy=240
            
      è®¡ç®—: x_cam = (360 - 320) * 0.5 / 615 = 0.0325 m
            y_cam = (240 - 240) * 0.5 / 615 = 0.0 m
            z_cam = 0.5 m
      
      è¾“å‡º: ç›¸æœºåæ ‡ (0.0325, 0.0, 0.5) m
            frame_id = "camera_color_optical_frame"

å˜æ¢2ï¼šç›¸æœºåæ ‡ â†’ æœºæ¢°è‡‚åæ ‡ (ä½¿ç”¨TF2)
      è¾“å…¥: ç›¸æœºåæ ‡ (0.0325, 0.0, 0.5)
            TFå˜æ¢: camera â†’ base_link
      
      è®¡ç®—: T_base_camera = ä»TFæŸ¥è¯¢è·å–
            point_base = T_base_camera Ã— point_camera
      
      è¾“å‡º: æœºæ¢°è‡‚åæ ‡ (0.123, -0.045, 0.567) m
            frame_id = "base_link"

è¾“å‡ºï¼š/leaf_detection/arm_target (PoseStamped)
      header:
        frame_id: base_link
        stamp: 123456789
      pose:
        position: {x: 0.123, y: -0.045, z: 0.567}
        orientation: {w: 1.0}

Step 4: æœºæ¢°è‡‚æ§åˆ¶
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
â€¢ MoveItè¯»å–ç›®æ ‡ä½ç½®
â€¢ è§„åˆ’ä»å½“å‰ä½ç½®åˆ°ç›®æ ‡çš„è¿åŠ¨
â€¢ æ‰§è¡Œè¿åŠ¨å¹¶ç›‘è§†
```

## ğŸ¯ åæ ‡ç³»å…³ç³»

### åæ ‡ç³»æ ‘ï¼ˆTF2ï¼‰

```
base_link (æœºæ¢°è‡‚åŸºåº§)
    â”‚
    â”œâ”€ shoulder_link
    â”‚  â””â”€ upper_arm_link
    â”‚     â””â”€ forearm_link
    â”‚        â””â”€ wrist_1_link
    â”‚           â””â”€ wrist_2_link
    â”‚              â””â”€ wrist_3_link
    â”‚                 â””â”€ tool0 (å·¥å…·ç«¯ç‚¹)
    â”‚
    â””â”€ camera_link (ç›¸æœºç‰©ç†ä¸­å¿ƒ)
       â””â”€ camera_color_optical_frame (RGBå…‰å­¦ä¸­å¿ƒ) â­

å…¶ä¸­ï¼š
  â€¢ base_link = æœºæ¢°è‡‚åŸºåº§å‚è€ƒç‚¹
  â€¢ camera_link = RealSenseç‰©ç†å®‰è£…ä½ç½®
  â€¢ camera_color_optical_frame = RGBå›¾åƒçš„åæ ‡åŸç‚¹
    (è¿™æ˜¯æˆ‘ä»¬ä½¿ç”¨çš„åæ ‡ç³»)
  â€¢ tool0 = æœºæ¢°è‡‚æœ«ç«¯æ‰§è¡Œå™¨
```

### åæ ‡ç³»å‚æ•°

| åæ ‡ç³» | ç±»å‹ | åŸç‚¹ | Xè½´ | Yè½´ | Zè½´ | çˆ¶æ¡†æ¶ |
|--------|------|------|-----|-----|-----|--------|
| `base_link` | å›ºå®š | æœºæ¢°è‡‚åŸºåº§ | å‘å‰ | å‘å·¦ | å‘ä¸Š | - |
| `camera_link` | ç§»åŠ¨* | ç›¸æœºä¸­å¿ƒ | - | - | - | base_link |
| `camera_color_optical_frame` | å›ºå®š | RGBå›¾åƒ | å‘å³ | å‘ä¸‹ | å‘å‰ | camera_link |

*camera_linkç›¸å¯¹äºbase_linkçš„ä½ç½®å¯èƒ½ä¼šå˜åŒ–ï¼ˆå¦‚æœç›¸æœºè£…åœ¨æœºæ¢°è‡‚ä¸Šï¼‰

## ğŸ“ å…³é”®è½¬æ¢å…¬å¼

### 1. åƒç´ åˆ°ç›¸æœº3Dåæ ‡

**ç›®æ ‡**ï¼šå°†å›¾åƒä¸­çš„2Dåƒç´ åæ ‡è½¬æ¢ä¸º3Dç›¸æœºåæ ‡

```
å…¬å¼ï¼š
  x_cam = (x_pixel - cx) Ã— depth / fx
  y_cam = (y_pixel - cy) Ã— depth / fy
  z_cam = depth

å‚æ•°ï¼š
  (x_pixel, y_pixel) = å›¾åƒä¸­çš„åƒç´ åæ ‡
  depth = è¯¥åƒç´ å¤„çš„æ·±åº¦å€¼ï¼ˆä»æ·±åº¦å›¾è·å–ï¼‰
  cx, cy = ç›¸æœºä¸»ç‚¹ï¼ˆä»å†…å‚Kè·å–ï¼‰
  fx, fy = ç›¸æœºç„¦è·ï¼ˆä»å†…å‚Kè·å–ï¼‰

å†…å‚çŸ©é˜µKï¼š
  â”Œ          â”
  â”‚ fx  0 cx â”‚
  â”‚  0 fy cy â”‚
  â”‚  0  0  1 â”‚
  â””          â”˜

ä¾‹ï¼š
  cx = 320, cy = 240 (ä¸»ç‚¹)
  fx = 615, fy = 615 (ç„¦è·)
  x_pixel = 360, y_pixel = 240 (è¦è½¬æ¢çš„åƒç´ )
  depth = 0.5 m
  
  x_cam = (360 - 320) Ã— 0.5 / 615 = 0.0325 m
  y_cam = (240 - 240) Ã— 0.5 / 615 = 0.0 m
  z_cam = 0.5 m
```

### 2. ç›¸æœºåæ ‡åˆ°æœºæ¢°è‡‚åæ ‡

**ç›®æ ‡**ï¼šä½¿ç”¨åˆšä½“å˜æ¢å°†ç›¸æœºåæ ‡è½¬æ¢ä¸ºæœºæ¢°è‡‚åæ ‡

```
å…¬å¼ï¼ˆé½æ¬¡å˜æ¢ï¼‰ï¼š
  p_arm = T_arm_camera Ã— p_camera

å…¶ä¸­ï¼š
  p_camera = ç›¸æœºåæ ‡ç³»ä¸­çš„ç‚¹ [x, y, z, 1]
  T_arm_camera = ä»ç›¸æœºåˆ°æœºæ¢°è‡‚çš„åˆšä½“å˜æ¢
  p_arm = æœºæ¢°è‡‚åæ ‡ç³»ä¸­çš„ç‚¹ [x', y', z', 1]

åˆšä½“å˜æ¢çŸ©é˜µï¼š
  â”Œ          â”   â”Œ     â”
  â”‚ R   t    â”‚   â”‚ x   â”‚
  â”‚ 0   1    â”‚ Ã— â”‚ y   â”‚
  â”‚          â”‚   â”‚ z   â”‚
  â”‚          â”‚   â”‚ 1   â”‚
  â””          â”˜   â””     â”˜

å…¶ä¸­ï¼š
  R = 3Ã—3 æ—‹è½¬çŸ©é˜µ
  t = 3Ã—1 å¹³ç§»å‘é‡

ROS TF2å®ç°ï¼š
  transform = tf_buffer.lookup_transform(
    'base_link',                      # ç›®æ ‡åæ ‡ç³»
    'camera_color_optical_frame',     # æºåæ ‡ç³»
    time                              # æ—¶é—´æˆ³
  )
  
  p_arm = tf2_ros.do_transform_point(p_camera, transform)
```

## ğŸ”Œ ROSèŠ‚ç‚¹é€šä¿¡

### èŠ‚ç‚¹å›¾

```
leaf_detector (leaf_detector.py)
â”œâ”€ è®¢é˜…:
â”‚  â”œâ”€ /camera/camera/color/image_raw (sensor_msgs/Image)
â”‚  â””â”€ å†…éƒ¨å¤„ç†...
â””â”€ å‘å¸ƒ:
   â”œâ”€ /leaf_detection/coordinates (std_msgs/String - JSON)
   â”œâ”€ /leaf_detection/annotated_image (sensor_msgs/Image)
   â””â”€ /leaf_detection/leaf_count (std_msgs/Int32)

leaf_to_arm_transformer (leaf_to_arm_transformer.py) â­ NEW
â”œâ”€ è®¢é˜…:
â”‚  â”œâ”€ /leaf_detection/coordinates (std_msgs/String)
â”‚  â”œâ”€ /camera/camera/aligned_depth_to_color/image_raw (sensor_msgs/Image)
â”‚  â””â”€ /camera/camera/aligned_depth_to_color/camera_info (sensor_msgs/CameraInfo)
â”œâ”€ TF2:
â”‚  â”œâ”€ ç›‘å¬ /tf å’Œ /tf_static
â”‚  â””â”€ æŸ¥è¯¢ base_link â† camera_color_optical_frame çš„å˜æ¢
â””â”€ å‘å¸ƒ:
   â”œâ”€ /leaf_detection/arm_target (geometry_msgs/PoseStamped)
   â”œâ”€ /leaf_detection/arm_target_markers (visualization_msgs/MarkerArray)
```

### æ¶ˆæ¯ç±»å‹

```
std_msgs/String (JSONæ ¼å¼)
{
  "frame": int,
  "timestamp": str,
  "num_leaves": int,
  "coordinates": [
    {
      "id": int,
      "center": {"x": float, "y": float},
      "bounding_box": {"x": float, "y": float, "width": float, "height": float},
      "area": float,
      "perimeter": float
    }
  ]
}

geometry_msgs/PoseStamped
{
  "header": {
    "frame_id": "base_link",
    "stamp": {sec, nsec}
  },
  "pose": {
    "position": {"x": float, "y": float, "z": float},
    "orientation": {"x": float, "y": float, "z": float, "w": float}
  }
}

visualization_msgs/MarkerArray
â”œâ”€ markers[]: visualization_msgs/Marker
   â”œâ”€ type: SPHERE
   â”œâ”€ pose: geometry_msgs/Pose
   â”œâ”€ scale: geometry_msgs/Vector3
   â”œâ”€ color: std_msgs/ColorRGBA
```

## ğŸ› ï¸ å…³é”®ç»„ä»¶è¯¦è§£

### 1. RealSenseç›¸æœºé©±åŠ¨

**ä½œç”¨**ï¼šæ•è·RGBå’Œæ·±åº¦å›¾åƒï¼Œå‘å¸ƒç›¸æœºå†…å‚

**å‘å¸ƒè¯é¢˜**ï¼š
- `/camera/camera/color/image_raw` - RGBå›¾åƒ
- `/camera/camera/aligned_depth_to_color/image_raw` - æ·±åº¦å›¾
- `/camera/camera/aligned_depth_to_color/camera_info` - ç›¸æœºå‚æ•°

**å…³é”®å‚æ•°**ï¼š
```yaml
# ç›¸æœºå†…å‚çŸ©é˜µK
K: [fx,  0, cx,
     0, fy, cy,
     0,  0,  1]

# æœ¬ä¾‹ä¸­ï¼š
fx = 615    # Xæ–¹å‘ç„¦è·
fy = 615    # Yæ–¹å‘ç„¦è·
cx = 320    # Xä¸»ç‚¹
cy = 240    # Yä¸»ç‚¹
```

### 2. å¶å­æ£€æµ‹èŠ‚ç‚¹

**ä½œç”¨**ï¼šå¤„ç†å›¾åƒï¼Œæ£€æµ‹å’Œå®šä½å¶å­

**è¾“å…¥**ï¼šRGBå›¾åƒ
**è¾“å‡º**ï¼šå¶å­åæ ‡ï¼ˆåƒç´ ç©ºé—´ï¼‰

**æ ¸å¿ƒç®—æ³•**ï¼š
1. é¢œè‰²è¿‡æ»¤ï¼ˆè¯†åˆ«ç»¿è‰²å¶å­ï¼‰
2. å½¢æ€å­¦å¤„ç†ï¼ˆå»å™ªã€å¡«å……ï¼‰
3. è½®å»“æ£€æµ‹ï¼ˆæ‰¾å¶å­è¾¹ç•Œï¼‰
4. æ ‡è®°å’Œè®¡ç®—ï¼ˆä¸­å¿ƒåæ ‡ï¼‰

### 3. åæ ‡è½¬æ¢èŠ‚ç‚¹ â­ NEW

**ä½œç”¨**ï¼šå°†æ£€æµ‹åˆ°çš„å¶å­åæ ‡ä»ç›¸æœºåæ ‡ç³»è½¬æ¢åˆ°æœºæ¢°è‡‚åæ ‡ç³»

**å¤„ç†æµç¨‹**ï¼š
```python
# 1. è·å–ç›¸æœºå†…å‚
intrinsics = parse_camera_info(msg)

# 2. è·å–æ·±åº¦å€¼
depth = read_pixel_depth(x_pixel, y_pixel)

# 3. åƒç´  â†’ ç›¸æœº3Dåæ ‡
p_camera = pixel_to_3d(x_pixel, y_pixel, depth, intrinsics)

# 4. ç›¸æœºåæ ‡ â†’ æœºæ¢°è‡‚åæ ‡
T = tf_buffer.lookup_transform('base_link', 'camera_color_optical_frame')
p_arm = transform_point(p_camera, T)

# 5. å‘å¸ƒç»“æœ
publish(PoseStamped(p_arm, frame_id='base_link'))
```

## âš ï¸ å¸¸è§é—®é¢˜å’Œè§£å†³

### é—®é¢˜1ï¼šæ·±åº¦å€¼ä¸ºé›¶æˆ–æ— æ•ˆ

**ç°è±¡**ï¼šå¶å­æ£€æµ‹åˆ°äº†ï¼Œä½†æ·±åº¦å€¼ä¸º0

**åŸå› **ï¼š
- RealSenseæ— æ³•æµ‹é‡è¯¥ç‚¹çš„æ·±åº¦ï¼ˆè¶…å‡ºèŒƒå›´æˆ–è¢«é®æŒ¡ï¼‰
- æ·±åº¦ä¼ æ„Ÿå™¨æ•…éšœæˆ–æœªå¯¹é½

**è§£å†³**ï¼š
```bash
# æ£€æŸ¥æ·±åº¦èŒƒå›´
ros2 run image_view image_view image:=/camera/camera/aligned_depth_to_color/image_raw

# åº”è¯¥çœ‹åˆ°æ·±åº¦å›¾åƒï¼Œæ²¡æœ‰é»‘è‰²ï¼ˆæ— æ•ˆï¼‰åŒºåŸŸ
# å¦‚æœæœ‰å¤§é‡é»‘è‰²ï¼Œè¯´æ˜ç›¸æœºè·ç¦»å¤ªè¿œæˆ–è§’åº¦ä¸å¯¹
```

### é—®é¢˜2ï¼šTFå˜æ¢ä¸å­˜åœ¨

**ç°è±¡**ï¼š`Cannot transform from camera to base_link`

**åŸå› **ï¼š
- æœºæ¢°è‡‚é©±åŠ¨æœªå¯åŠ¨
- ç›¸æœºé©±åŠ¨æœªå¯åŠ¨
- åæ ‡ç³»æœªå‘å¸ƒåˆ°TF

**è§£å†³**ï¼š
```bash
# æ£€æŸ¥æ‰€æœ‰æ´»è·ƒçš„TFå˜æ¢
ros2 run tf2_tools view_frames

# åº”è¯¥çœ‹åˆ°ï¼šbase_link è¿æ¥åˆ°å…¶ä»–æ¡†æ¶
# åº”è¯¥çœ‹åˆ°ï¼šcamera_link åœ¨æ ‘ä¸­

# å¦‚æœç¼ºå°‘ï¼Œå¯åŠ¨ç›¸åº”çš„é©±åŠ¨
ros2 launch ur_robot_driver ur_control.launch.py use_fake_hardware:=true
```

### é—®é¢˜3ï¼šåæ ‡ä¸åˆç†

**ç°è±¡**ï¼šè½¬æ¢åçš„åæ ‡ä¸åœ¨æœºæ¢°è‡‚å¯è¾¾èŒƒå›´å†…

**åŸå› **ï¼š
- å†…å‚æˆ–æ·±åº¦æ ‡å®šé”™è¯¯
- TFå˜æ¢ä¸å‡†ç¡®
- ç›¸æœºå®‰è£…ä½ç½®åå·®

**è§£å†³**ï¼š
1. éªŒè¯ç›¸æœºå†…å‚ - æ¯”è¾ƒ `/camera/camera/aligned_depth_to_color/camera_info` ä¸­çš„fx, fy, cx, cy
2. éªŒè¯æ·±åº¦å€¼ - ç”¨å·å°ºæµ‹é‡å®é™…è·ç¦»
3. éªŒè¯TFå˜æ¢ - æ£€æŸ¥ç›¸æœºå®‰è£…ä½ç½®æ˜¯å¦è¾“å…¥æ­£ç¡®
4. è°ƒæ•´æ·±åº¦åç§»å‚æ•°

## ğŸ“ˆ æ€§èƒ½æŒ‡æ ‡

| æŒ‡æ ‡ | ç›®æ ‡ | å®é™… |
|-----|------|------|
| å¶å­æ£€æµ‹é¢‘ç‡ | 30 FPS | ~20-25 FPS |
| åæ ‡è½¬æ¢å»¶è¿Ÿ | <20 ms | ~5-10 ms |
| åæ ‡ç²¾åº¦ | Â±2 cm | Â±1-3 cm (å–å†³äºæ ‡å®š) |
| å†…å­˜å ç”¨ | <500 MB | ~200-300 MB |

## ğŸ”® æ‰©å±•æ–¹å‘

### å¤šä¸ªå¶å­çš„å®æ—¶è·Ÿè¸ª
```
å½“å‰ï¼šæ¯å¸§æ£€æµ‹æ‰€æœ‰å¶å­
æ”¹è¿›ï¼šè·Ÿè¸ªå¶å­IDï¼Œé¢„æµ‹è½¨è¿¹
```

### åŠ¨æ€æ ¡å‡†
```
å½“å‰ï¼šå›ºå®šçš„æ·±åº¦åç§»
æ”¹è¿›ï¼šæ ¹æ®è¿åŠ¨åé¦ˆåŠ¨æ€è°ƒæ•´
```

### å¹¶è¡Œå¤„ç†
```
å½“å‰ï¼šä¸²è¡Œå¤„ç†
æ”¹è¿›ï¼šä½¿ç”¨å¤šçº¿ç¨‹å¤„ç†å›¾åƒå’Œè½¬æ¢
```

### ä¸MoveItçš„æ·±åº¦é›†æˆ
```
å½“å‰ï¼šå‘å¸ƒç›®æ ‡ä½ç½®
æ”¹è¿›ï¼šè‡ªåŠ¨ç”Ÿæˆè¿åŠ¨è®¡åˆ’å’Œé¿éšœ
```
